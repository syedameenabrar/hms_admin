"use strict";(self.webpackChunkhms=self.webpackChunkhms||[]).push([[279],{4279:(T,d,r)=>{r.r(d),r.d(d,{DriverLoginsModule:()=>f});var m=r(9808),e=r(1223),u=r(529),g=r(9242),o=r(2382);function p(i,l){if(1&i){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",15),e.NdJ("click",function(){const s=e.CHM(n).$implicit;return e.oxw().deleteLogins(s._id)}),e.TgZ(14,"button",16),e._uU(15,"Delete"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const n=l.$implicit,t=l.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu((null==n?null:n.firstName)+" "+(null==n?null:n.lastName)),e.xp6(2),e.Oqu(null==n?null:n.accountType),e.xp6(2),e.Oqu(null==n?null:n.email),e.xp6(2),e.Oqu(null==n?null:n.emailisVerified),e.xp6(2),e.Oqu(null==n?null:n.username)}}let h=(()=>{class i{constructor(n,t){this.api=n,this.spinner=t,this.tokenLog="",this.firstName="",this.lastName="",this.username="",this.password="",this.email="",this.phoneNumber="",this.data={},this.allLogins=[]}ngOnInit(){this.getAllLogins()}getAllLogins(){this.spinner.show(),this.api.getLoginDetails().subscribe(n=>{const t=n;console.log("res",n),this.allLogins=n.data,"All users fetched successfully"==t.message||alert("Data not fetched, Please go back and come again!"),this.spinner.hide()},n=>{alert(n.error.message)})}createDriver(){this.spinner.show(),this.data={firstName:this.firstName,lastName:this.lastName,username:this.firstName+"_"+this.lastName,password:this.password,email:this.email,phoneNumber:this.phoneNumber},this.api.driverRegister(this.data).subscribe(n=>{(n.message="successfully user Created")?(alert("Driver login created successfully"),this.firstName="",this.lastName="",this.password="",this.email="",this.phoneNumber=""):alert("Not created, try again"),this.spinner.hide()},n=>{alert("Not created, try again")}),this.spinner.hide()}deleteLogins(n){this.spinner.show(),this.api.deleteLogins(n).subscribe(t=>{"successfully user Deleted"==t.message?alert("successfully user Deleted"):alert("Someting went wrong, try again!"),this.getAllLogins(),this.spinner.hide()},t=>{this.spinner.hide(),console.log(t),alert("Someting went wrong, try again!")}),this.getAllLogins()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(u.M),e.Y36(g.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-driver-logins"]],decls:52,vars:6,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],["role","banner",1,"toolbar"],["width","90","alt","Angular Logo","src","../../assets/images/hms-logo.png"],["role","main",1,"content"],[1,"form-group"],["for","exampleInputEmail1"],["name","firstName","type","text","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter driver name",1,"form-control",3,"ngModel","ngModelChange"],["name","lastName","type","text","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter driver name",1,"form-control",3,"ngModel","ngModelChange"],["name","email","type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1"],["name","password","type","text","id","exampleInputPassword1","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["maxlength","10","name","phoneNumber","type","text","id","exampleInputPassword1","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],[4,"ngFor","ngForOf"],[3,"click"],[1,"btn","btn-danger"]],template:function(n,t){1&n&&(e.TgZ(0,"ngx-spinner",0),e.TgZ(1,"p",1),e._uU(2,"Loading..."),e.qZA(),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"img",3),e.TgZ(5,"span"),e._uU(6,"HMS LOGISTICS"),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"h4"),e._uU(9,"Create Driver Logins"),e.qZA(),e.TgZ(10,"form"),e.TgZ(11,"div",5),e.TgZ(12,"label",6),e._uU(13,"First Name"),e.qZA(),e.TgZ(14,"input",7),e.NdJ("ngModelChange",function(s){return t.firstName=s}),e.qZA(),e.qZA(),e.TgZ(15,"div",5),e.TgZ(16,"label",6),e._uU(17,"Last Name"),e.qZA(),e.TgZ(18,"input",8),e.NdJ("ngModelChange",function(s){return t.lastName=s}),e.qZA(),e.qZA(),e.TgZ(19,"div",5),e.TgZ(20,"label",6),e._uU(21,"Email"),e.qZA(),e.TgZ(22,"input",9),e.NdJ("ngModelChange",function(s){return t.email=s}),e.qZA(),e.qZA(),e.TgZ(23,"div",5),e.TgZ(24,"label",10),e._uU(25,"Password"),e.qZA(),e.TgZ(26,"input",11),e.NdJ("ngModelChange",function(s){return t.password=s}),e.qZA(),e.qZA(),e.TgZ(27,"div",5),e.TgZ(28,"label",10),e._uU(29,"Phone Number"),e.qZA(),e.TgZ(30,"input",12),e.NdJ("ngModelChange",function(s){return t.phoneNumber=s}),e.qZA(),e.qZA(),e.TgZ(31,"button",13),e.NdJ("click",function(){return t.createDriver()}),e._uU(32,"Create D-Register"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"h1"),e._uU(34,"All Logins List"),e.qZA(),e.TgZ(35,"table"),e.TgZ(36,"tr"),e.TgZ(37,"th"),e._uU(38,"Sl No"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"Name"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Account Type"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Email"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Email Verified"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Username"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Delete"),e.qZA(),e.qZA(),e.YNc(51,p,16,6,"tr",14),e.qZA()),2&n&&(e.xp6(14),e.Q6J("ngModel",t.firstName),e.xp6(4),e.Q6J("ngModel",t.lastName),e.xp6(4),e.Q6J("ngModel",t.email),e.xp6(4),e.Q6J("ngModel",t.password),e.xp6(4),e.Q6J("ngModel",t.phoneNumber),e.xp6(21),e.Q6J("ngForOf",t.allLogins))},directives:[g.Ro,o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,o.nD,m.sg],styles:["label[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:15px}.toolbar[_ngcontent-%COMP%]{width:163%!important}button[_ngcontent-%COMP%]{margin-top:13px;width:100%}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:center;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}"]}),i})();var c=r(1196);const Z=[{path:"",component:h}];let f=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,o.u5,g.ef,c.Bz.forChild(Z)]]}),i})()}}]);